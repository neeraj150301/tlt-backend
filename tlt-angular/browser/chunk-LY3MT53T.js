import{a as U}from"./chunk-3CWQHSQS.js";import{a as W}from"./chunk-YPYVXNJD.js";import"./chunk-BYXBJQAS.js";import{a as B,b as G,e as q,g as H}from"./chunk-FN6PLK3Z.js";import"./chunk-U6FASL5M.js";import{k as F,l as j,m as Q}from"./chunk-FKNCLMEC.js";import{$ as y,$a as x,Ab as A,Ka as d,La as M,Pa as R,U as v,Va as h,Xa as p,Z as _,_ as w,aa as k,ab as P,bb as V,cb as O,db as t,eb as e,fb as c,gb as C,hb as S,ib as E,kb as u,lb as f,rb as o,sb as I,tb as b,xb as D,zb as N}from"./chunk-S6POATRR.js";import"./chunk-CWTPBX7D.js";function ue(i,l){if(i&1&&(C(0),t(1,"div",21)(2,"div",22),o(3),e()(),S()),i&2){let s=l.$implicit;d(3),I(s)}}function ge(i,l){i&1&&(C(0),c(1,"div",23),S())}var pe=(i,l)=>({"bg-blue-500 text-white":i,"text-gray-700 hover:bg-blue-200":l});function be(i,l){if(i&1){let s=E();C(0),t(1,"div",24)(2,"div",25),u("click",function(){let n=_(s).$implicit,m=f();return w(m.getDateValue(n))}),o(3),e()(),S()}if(i&2){let s=l.$implicit,r=f();d(2),p("ngClass",A(2,pe,r.isDateSelected(s),!r.isDateSelected(s))),d(),b(" ",s," ")}}var $=i=>({"cursor-not-allowed opacity-25":i}),Y=(()=>{let l=class l{constructor(){this.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],this.DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.showDatepicker=!1,this.no_of_days=[],this.blankdays=[],this.datepickerValueChange=new R,this.trackByIdentity=(r,a)=>a}ngOnInit(){this.initDate(),this.getNoOfDays()}initDate(){let r=new Date;this.month=r.getMonth(),this.year=r.getFullYear(),this.datepickerValue=new Date(this.year,this.month,r.getDate()).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),this.datepickerValueChange.emit(this.datepickerValue)}isToday(r){return this.datepickerValue===new Date(this.year,this.month,r).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}isDateSelected(r){return this.isToday(r)}getDateValue(r){let a=new Date(this.year,this.month,r);this.datepickerValue=a.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),this.showDatepicker=!1,this.datepickerValueChange.emit(this.datepickerValue)}getNoOfDays(){let r=new Date(this.year,this.month+1,0).getDate(),a=new Date(this.year,this.month).getDay(),n=[];for(var m=1;m<=a;m++)n.push(m);let g=[];for(var m=1;m<=r;m++)g.push(m);this.blankdays=n,this.no_of_days=g}};l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=v({type:l,selectors:[["app-date-picker"]],outputs:{datepickerValueChange:"datepickerValueChange"},standalone:!0,features:[D],decls:32,vars:16,consts:[[1,"antialiased","sans-serif"],[1,"mb-5","w-64"],["for","date",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],[1,"relative"],["type","hidden","name","date","x-ref","date"],["id","date","type","text","readonly","","placeholder","Select date",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModel","ngModelChange","click","keydown.escape"],[1,"absolute","top-0","right-0","px-3","py-2"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"bg-white","mt-12","rounded-lg","shadow","p-4","absolute","top-0","left-0",2,"width","17rem",3,"hidden","keydown.away"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-lg","font-bold","text-gray-800"],[1,"ml-1","text-lg","text-gray-600","font-normal"],["type","button",1,"transition","ease-in-out","duration-100","inline-flex","cursor-pointer","hover:bg-gray-200","p-1","rounded-full",3,"ngClass","disabled","click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-500","inline-flex"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"flex","flex-wrap","mb-3","-mx-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","-mx-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"px-1",2,"width","14.26%"],[1,"text-gray-800","font-medium","text-center","text-xs"],[1,"text-center","border-none","p-1","border-transparent","text-sm",2,"width","14.28%"],[1,"px-1","mb-1",2,"width","14.28%"],[1,"cursor-pointer","text-center","text-sm","rounded-full","leading-loose","transition","ease-in-out","duration-100",3,"ngClass","click"]],template:function(a,n){a&1&&(t(0,"div")(1,"div",0)(2,"div")(3,"div")(4,"div",1)(5,"label",2),o(6,"Select Date"),e(),t(7,"div",3),c(8,"input",4),t(9,"input",5),u("ngModelChange",function(g){return n.datepickerValue=g})("click",function(){return n.showDatepicker=!n.showDatepicker})("keydown.escape",function(){return n.showDatepicker=!1}),e(),t(10,"div",6),y(),t(11,"svg",7),c(12,"path",8),e()(),k(),t(13,"div",9),u("keydown.away",function(){return n.showDatepicker=!1}),t(14,"div",10)(15,"div")(16,"span",11),o(17),e(),t(18,"span",12),o(19),e()(),t(20,"div")(21,"button",13),u("click",function(){return n.month=n.month-1})("click",function(){return n.getNoOfDays()}),y(),t(22,"svg",14),c(23,"path",15),e()(),k(),t(24,"button",13),u("click",function(){return n.month=n.month+1})("click",function(){return n.getNoOfDays()}),y(),t(25,"svg",14),c(26,"path",16),e()()()(),k(),t(27,"div",17),h(28,ue,4,1,"ng-container",18),e(),t(29,"div",19),h(30,ge,2,0,"ng-container",18)(31,be,4,5,"ng-container",20),e()()()()()()()()),a&2&&(d(9),p("ngModel",n.datepickerValue),d(4),p("hidden",!n.showDatepicker),d(4),I(n.MONTH_NAMES[n.month]),d(2),I(n.year),d(2),p("ngClass",N(12,$,n.month===0))("disabled",n.month===0),d(3),p("ngClass",N(14,$,n.month===11))("disabled",n.month===11),d(4),p("ngForOf",n.DAYS),d(2),p("ngForOf",n.blankdays),d(),p("ngForOf",n.no_of_days)("ngForTrackBy",n.trackByIdentity))},dependencies:[H,B,G,q,Q,F,j]});let i=l;return i})();function he(i,l){i&1&&(t(0,"div",36)(1,"div",37)(2,"div",38)(3,"span",39),y(),t(4,"svg",40),c(5,"path",41),e()(),k(),t(6,"div",42)(7,"strong",43),o(8," Changes saved "),e(),t(9,"p",44),o(10,"Raw Material is added successfully."),e()(),t(11,"button",45)(12,"span",46),o(13,"Dismiss popup"),e(),y(),t(14,"svg",40),c(15,"path",47),e()()()()())}function fe(i,l){i&1&&(t(0,"div",49)(1,"div"),o(2," NO ITEMS TO DISPLAY"),e()())}function ye(i,l){if(i&1){let s=E();t(0,"div",51)(1,"button",52),u("click",function(){let n=_(s).$implicit,m=f(3);return w(m.selectedItem(n))}),t(2,"div",53)(3,"h5",54)(4,"span",55),o(5),e(),t(6,"span",56),o(7),e()(),c(8,"p",57),t(9,"div",58),o(10," Section:"),t(11,"span",56),o(12),e()()()()()}if(i&2){let s=l.$implicit;d(5),b(" ",s.pgNonPg==="nonPg"?"NPG":s.pgNonPg.toUpperCase(),""),d(2),b(" ",s.itemName,""),d(5),b(" ",s.section,"")}}function ke(i,l){if(i&1&&(t(0,"div",50),V(1,ye,13,3,"div",59,P),e()),i&2){let s=f(2);d(),O(s.RmItems)}}function xe(i,l){if(i&1&&h(0,fe,3,0,"div",48)(1,ke,3,0),i&2){let s=f();x(0,s.RmItems.length===0?0:1)}}function ve(i,l){if(i&1&&(t(0,"div",8)(1,"div",51)(2,"div",53)(3,"h5",54)(4,"span",55),o(5),e(),o(6),e(),t(7,"div",58),o(8," Section:"),t(9,"span",56),o(10),e()()()()()),i&2){let s=f();d(5),b(" ",s.selectedRmItemPgNonPg==="nonPg"?"NPG":s.selectedRmItemPgNonPg.toUpperCase(),""),d(),b(" ",s.selectedRmItemName," "),d(4),b(" ",s.selectedRmItemSection,"")}}function _e(i,l){i&1&&(t(0,"div",36)(1,"button",60),o(2,"Submit"),e()())}var Fe=(()=>{let l=class l{constructor(r,a){this.rmItemService=r,this.rawMaterialService=a,this.showSuccessMessage=!1,this.showItemList=!1,this.hideItemList=!1,this.RmItems=[]}ngOnInit(){this.fetchRmItems()}fetchRmItems(){this.rmItemService.getRmItems().subscribe(r=>{this.RmItems=r})}onSearch(r){r.trim()===""?this.RmItems=[...this.RmItems]:this.RmItems=this.RmItems.filter(a=>a.itemName.toLowerCase().includes(r.toLowerCase()))}showitemList(){this.showItemList=!this.showItemList}selectedItem(r){this.selectedRmItemSection=r.section,this.selectedRmItemName=r.itemName,this.selectedRmItemPgNonPg=r.pgNonPg,this.selectedRmItemId=r._id,this.showitemList(),this.hideItemList=!0}onDatepickerValueChange(r){this.Date=r}addRm(r){r.preventDefault();let a=r.target,m=a.elements.namedItem("warehouse").value,z=a.elements.namedItem("docNO").value,J=a.elements.namedItem("vendorName").value,K=a.elements.namedItem("receivedPcs"),T=parseInt(K.value),X=a.elements.namedItem("receivedQty"),L=parseInt(X.value),Z=a.elements.namedItem("maxLen"),ee=parseInt(Z.value),te=a.elements.namedItem("minLen"),ne=parseInt(te.value),re=a.elements.namedItem("avglength"),ie=parseInt(re.value),ae=a.elements.namedItem("length"),oe=parseInt(ae.value),le=a.elements.namedItem("width"),de=parseInt(le.value),me=a.elements.namedItem("costCenter").value;this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},2e3),a.reset(),this.hideItemList=!1;let se={pgNonPg:this.selectedRmItemPgNonPg,itemName:this.selectedRmItemName,section:this.selectedRmItemSection,itemId:this.selectedRmItemId,warehouse:m,documentNo:z,documentDate:this.Date,vendorName:J,receivedPieces:T,receivedQuantity:L,issuedPieces:0,issuedQuantity:0,balancePieces:T,balanceQuantity:L,pendingDays:0,maxLength:ee,minLength:ne,averageLength:ie,length:oe,width:de,costCenter:me,balanceAmount:0,unit:"",createdBy:""};this.rawMaterialService.createRm(se)}};l.\u0275fac=function(a){return new(a||l)(M(U),M(W))},l.\u0275cmp=v({type:l,selectors:[["app-rms-addrm"]],standalone:!0,features:[D],decls:61,vars:4,consts:[[1,"py-6","flex","justify-center"],[1,"p-4","sm:ml-52","mt-6","w-full"],["class","flex justify-center"],[1,"p-4","border-2","border-gray-700","border-dashed","rounded-lg","dark:border-gray-700"],[1,"grid","gap-4","mb-4"],[3,"submit"],[1,"p-2","mb-2","mt-2","border","border-gray-700","border-dashed","bg-slate-300","rounded-lg","dark:border-gray-700","d-flex","justify-content-center","font-semibold","dark:bg-slate-300",3,"click"],["class","mb-2 mt-2"],[1,"mb-2","mt-2"],["for","warehouse",1,"block","mb-2","text-sm","font-medium","text-text-gray-800","dark:text-gray-800"],["name","warehouse","id","warehouse",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["value","pgTltRMSteel"],["value","tltRMSteel"],[1,"mb-4","mt-4"],["for","docNo",1,"block","mb-2","text-sm","font-medium","text-text-gray-800","dark:text-gray-800"],["minlength","1","name","docNO","type","text","id","docNo","placeholder","Enter Document Number","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[3,"datepickerValueChange"],["for","vendorName",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","vendorName","type","text","id","vendorName","placeholder","Enter Vendor Name","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","receivedPcs",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","receivedPcs","type","number","id","receivedPcs","placeholder","Enter Received Pcs","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","receivedQty",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","receivedQty","type","number","id","receivedQty","placeholder","Enter Received Quantity (KG)","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","maxLen",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","maxLen","type","number","id","maxLen","placeholder","Enter Max Length","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","minLen",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","minLen","type","number","id","minLen","placeholder","Enter Min Length","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","avglength",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","avglength","type","number","id","avglength","placeholder","Enter Average length","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","length",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","length","type","number","id","length","placeholder","Enter Length","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","width",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","width","type","number","id","width","placeholder","Enter Width","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","costCenter",1,"block","mb-2","text-sm","font-medium","text-gray-800","dark:text-gray-800"],["minlength","1","name","costCenter","type","text","id","costCenter","placeholder","Enter Cost Center","required","",1,"bg-gray-200","border","border-gray-600","text-gray-800","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-200","dark:border-gray-600","dark:placeholder-gray-400","dark:text-black","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","flex justify-center "],[1,"flex","justify-center"],["role","alert",1,"rounded-xl","border","border-gray-100","bg-white","p-4","w-96","mb-8"],[1,"flex","items-start","gap-4"],[1,"text-green-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1"],[1,"block","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-700"],[1,"text-gray-500","transition","hover:text-gray-600"],[1,"sr-only"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],["class","p-4 mt-2 border-2 text-red-500 dark:text-red-500 font-bold border-gray-700 border-dashed rounded-lg dark:border-gray-700 d-flex justify-content-center "],[1,"p-4","mt-2","border-2","text-red-500","dark:text-red-500","font-bold","border-gray-700","border-dashed","rounded-lg","dark:border-gray-700","d-flex","justify-content-center"],[1,"rmsItemsContainer","overflow-y-auto",2,"max-height","300px"],[1,"relative","flex","flex-col","mt-2","text-gray-700","bg-white","shadow-md","bg-clip-border","rounded-xl","w-full","border-2","border-gray-200","border-solid"],[3,"click"],[1,"pt-2","pl-4"],[1,"block","mb-1","font-sans","text-xs","antialiased","font-semibold","leading-snug","tracking-normal","text-blue-gray-900"],[1,"text-sm","circle","pg-non-pg"],[1,"font-semibold"],[1,"block","font-sans","text-xs","antialiased","font-light","leading-relaxed","text-inherit"],[1,"pl-1","pb-1","text-sm"],["class","relative flex flex-col mt-2 text-gray-700 bg-white shadow-md bg-clip-border rounded-xl w-full border-2 border-gray-200 border-solid"],["type","submit",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"]],template:function(a,n){a&1&&(t(0,"div",0)(1,"div",1),h(2,he,16,0,"div",2),t(3,"div",3)(4,"div",4)(5,"form",5),u("submit",function(g){return n.addRm(g)}),t(6,"div",6),u("click",function(){return n.showitemList()}),o(7," Select Item "),e(),h(8,xe,2,1)(9,ve,11,3,"div",7),t(10,"div",8)(11,"label",9),o(12,"Warehouse"),e(),t(13,"select",10)(14,"option",11),o(15,"PG-TLT(RM STEEL)"),e(),t(16,"option",12),o(17,"TLT(RM STEEL)"),e()()(),t(18,"div",13)(19,"label",14),o(20,"Document Number"),e(),c(21,"input",15),e(),t(22,"div")(23,"app-date-picker",16),u("datepickerValueChange",function(g){return n.onDatepickerValueChange(g)}),e()(),t(24,"div",13)(25,"label",17),o(26,"Vendor Name"),e(),c(27,"input",18),e(),t(28,"div",13)(29,"label",19),o(30,"Received Pcs"),e(),c(31,"input",20),e(),t(32,"div",13)(33,"label",21),o(34,"Received Quantity (KG)"),e(),c(35,"input",22),e(),t(36,"div",13)(37,"label",23),o(38,"Max Length"),e(),c(39,"input",24),e(),t(40,"div",13)(41,"label",25),o(42,"Min Length"),e(),c(43,"input",26),e(),t(44,"div",13)(45,"label",27),o(46,"Average length"),e(),c(47,"input",28),e(),t(48,"div",13)(49,"label",29),o(50,"Length"),e(),c(51,"input",30),e(),t(52,"div",13)(53,"label",31),o(54,"Width"),e(),c(55,"input",32),e(),t(56,"div",13)(57,"label",33),o(58,"Cost Center"),e(),c(59,"input",34),e(),h(60,_e,3,0,"div",35),e()()()()()),a&2&&(d(2),x(2,n.showSuccessMessage?2:-1),d(6),x(8,n.showItemList?8:-1),d(),x(9,n.hideItemList?9:-1),d(51),x(60,n.hideItemList?60:-1))},dependencies:[Y],styles:[".d-flex[_ngcontent-%COMP%]{display:flex}.justify-content-center[_ngcontent-%COMP%]{justify-content:center}.circle[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;background-color:#d84141;color:#fff;text-align:center;line-height:20px;margin-right:10px}.pg-non-pg[_ngcontent-%COMP%]{font-size:8px}"]});let i=l;return i})();export{Fe as RmsAddrmComponent};
