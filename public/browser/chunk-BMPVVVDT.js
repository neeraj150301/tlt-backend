import"./chunk-BYXBJQAS.js";import{a as I,b as F,e as B,g as D}from"./chunk-FN6PLK3Z.js";import{b as j}from"./chunk-ZD6YN5PI.js";import{a as N}from"./chunk-U6FASL5M.js";import{r as V}from"./chunk-FKNCLMEC.js";import{$ as b,$a as m,Bb as E,Cb as T,Ka as l,La as v,U as w,Va as g,X as U,Xa as S,Z as u,_ as f,aa as y,ab as k,bb as A,cb as M,db as s,eb as o,fb as _,ib as h,kb as p,lb as c,rb as a,tb as x,xb as L}from"./chunk-S6POATRR.js";import"./chunk-CWTPBX7D.js";var O=(()=>{let t=class t{transform(i,n){return!i||!n?i:(n=n.toLowerCase(),i.filter(d=>d.fullName.toLowerCase().includes(n)))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=U({name:"userfilter",type:t,pure:!0,standalone:!0});let e=t;return e})();function $(e,t){if(e&1){let r=h();s(0,"div",8)(1,"div",9)(2,"div",10)(3,"span",11),b(),s(4,"svg",12),_(5,"path",13),o()(),y(),s(6,"div",14)(7,"strong",15),a(8," Changes saved "),o(),s(9,"p",16),a(10,"User is added successfully."),o()(),s(11,"button",17),p("click",function(){u(r);let n=c();return f(n.showSuccessMessage=!1)}),s(12,"span",18),a(13,"Dismiss popup"),o(),b(),s(14,"svg",12),_(15,"path",19),o()()()()()}}function P(e,t){e&1&&(s(0,"div",21)(1,"div"),a(2," NO USERS TO DISPLAY"),o()())}function G(e,t){if(e&1){let r=h();s(0,"div",24)(1,"button",25),p("click",function(){let d=u(r).$implicit,C=c(3);return f(C.selectedUser(d))}),s(2,"div",26)(3,"h5",27)(4,"span",28),a(5),o()(),_(6,"p",29),s(7,"div",30)(8,"span",28),a(9),o()()()()()}if(e&2){let r=t.$implicit;l(5),x(" ",r.fullName,""),l(4),x(" ",r.phoneNumber,"")}}function H(e,t){if(e&1){let r=h();s(0,"div",22)(1,"input",23),p("ngModelChange",function(n){u(r);let d=c(2);return f(d.searchQuery=n)}),o(),A(2,G,10,2,"div",31,k),E(4,"userfilter"),o()}if(e&2){let r=c(2);l(),S("ngModel",r.searchQuery),l(),M(T(4,1,r.Users,r.searchQuery))}}function z(e,t){if(e&1&&g(0,P,3,0,"div",20)(1,H,5,4),e&2){let r=c();m(0,r.Users.length===0?0:1)}}function R(e,t){if(e&1&&(s(0,"div",32)(1,"div",24)(2,"div",26)(3,"h5",27),a(4),o(),s(5,"div",30)(6,"span",28),a(7),o()()()()()),e&2){let r=c();l(4),x(" ",r.selectedUserName," "),l(3),x(" ",r.selectedUserNO,"")}}function Y(e,t){if(e&1){let r=h();s(0,"div",8)(1,"button",33),p("click",function(){u(r);let n=c();return f(n.addUser())}),a(2,"Submit"),o()()}}var ne=(()=>{let t=class t{constructor(i,n){this.userService=i,this.http=n,this.showSuccessMessage=!1,this.showUserList=!1,this.hideUserList=!1,this.Users=[],this.searchQuery=""}ngOnInit(){this.fetchtltUsers()}fetchtltUsers(){this.userService.getTltUsers().subscribe(i=>{this.Users=i})}showUsersList(){this.showUserList=!this.showUserList}selectedUser(i){this.selectedUserNO=i.phoneNumber,this.selectedUserName=i.fullName,this.selectedUserId=i._id,this.showUsersList(),this.hideUserList=!0,this.user=i}addUser(){this.user.apps.includes("tlt")||this.user.apps.push("tlt"),this.http.patch(`${N.apiBaseUrl}/api/auth/users/apps/${this.selectedUserId}`,this.user).subscribe(i=>{}),this.showSuccessMessage=!0,this.hideUserList=!1,setTimeout(()=>{this.showSuccessMessage=!1},2e3)}};t.\u0275fac=function(n){return new(n||t)(v(j),v(V))},t.\u0275cmp=w({type:t,selectors:[["app-admin-add-user"]],standalone:!0,features:[L],decls:10,vars:4,consts:[[1,"py-6","flex","justify-center"],[1,"p-4","sm:ml-52","mt-6","w-full"],["class","flex justify-center"],[1,"p-4","border-2","border-gray-700","border-dashed","rounded-lg","dark:border-gray-700"],[1,"grid","gap-4","mb-4"],[1,"p-2","mb-2","mt-2","border","border-gray-700","border-dashed","bg-slate-300","rounded-lg","dark:border-gray-700","d-flex","justify-content-center","font-semibold","dark:bg-slate-300",3,"click"],["class","mb-2 mt-2"],["class","flex justify-center "],[1,"flex","justify-center"],["role","alert",1,"rounded-xl","border","border-gray-100","bg-white","p-4","w-96","mb-8"],[1,"flex","items-start","gap-4"],[1,"text-green-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1"],[1,"block","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-700"],[1,"text-gray-500","transition","hover:text-gray-600",3,"click"],[1,"sr-only"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],["class","p-4 mt-2 border-2 text-red-500 dark:text-red-500 font-bold border-gray-700 border-dashed rounded-lg dark:border-gray-700 d-flex justify-content-center "],[1,"p-4","mt-2","border-2","text-red-500","dark:text-red-500","font-bold","border-gray-700","border-dashed","rounded-lg","dark:border-gray-700","d-flex","justify-content-center"],[1,"overflow-y-auto",2,"max-height","500px"],["type","text","placeholder","Search user by name",1,"w-full","p-2","border","border-gray-300","rounded-md","mb-2",3,"ngModel","ngModelChange"],[1,"relative","flex","flex-col","mt-2","text-gray-700","bg-white","shadow-md","bg-clip-border","rounded-xl","w-full","border-2","border-gray-200","border-solid"],[3,"click"],[1,"pt-2","pl-4"],[1,"block","mb-1","font-sans","text-xs","antialiased","font-semibold","leading-snug","tracking-normal","text-blue-gray-900"],[1,"font-semibold"],[1,"block","font-sans","text-xs","antialiased","font-light","leading-relaxed","text-inherit"],[1,"pl-1","pb-1","text-sm"],["class","relative flex flex-col mt-2 text-gray-700 bg-white shadow-md bg-clip-border rounded-xl w-full border-2 border-gray-200 border-solid"],[1,"mb-2","mt-2"],[1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"]],template:function(n,d){n&1&&(s(0,"div",0)(1,"div",1),g(2,$,16,0,"div",2),s(3,"div",3)(4,"div",4)(5,"div",5),p("click",function(){return d.showUsersList()}),a(6," Select User "),o(),g(7,z,2,1)(8,R,8,2,"div",6)(9,Y,3,0,"div",7),o()()()()),n&2&&(l(2),m(2,d.showSuccessMessage?2:-1),l(5),m(7,d.showUserList?7:-1),l(),m(8,d.hideUserList?8:-1),l(),m(9,d.hideUserList?9:-1))},dependencies:[D,I,F,B,O]});let e=t;return e})();export{ne as AdminAddUserComponent};
