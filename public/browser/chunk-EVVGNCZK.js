import{a as w}from"./chunk-YPYVXNJD.js";import{a as C}from"./chunk-U6FASL5M.js";import{r as S}from"./chunk-FKNCLMEC.js";import{$a as I,Ka as a,L as p,La as m,R as g,U as f,Va as x,ab as h,bb as b,cb as v,db as d,eb as s,lb as c,rb as o,tb as l,xb as y}from"./chunk-S6POATRR.js";import{f as u}from"./chunk-CWTPBX7D.js";var k=(()=>{let e=class e{constructor(){this.http=g(S)}getIssueItem(){return this.http.get(`${C.apiBaseUrl}/rm-issue`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function P(i,e){i&1&&(d(0,"div",3)(1,"div"),o(2," NO ISSUED MATERIAL FOUND"),s()())}function _(i,e){if(i&1&&(d(0,"div",4)(1,"div",5)(2,"h5",6)(3,"span",7),o(4),s(),o(5),s(),d(6,"div")(7,"div",8),o(8," Issued Items Count :"),d(9,"span",9),o(10),s(),o(11),s(),d(12,"div",8),o(13," Issued By :"),d(14,"span",9),o(15),s(),o(16),s()()()()),i&2){let t=e.$implicit,n=c(2);a(4),l(" ",(t==null?null:t.pgNonPg)==="nonPg"||!(t!=null&&t.pgNonPg)?"NPG":t==null?null:t.pgNonPg.toUpperCase()," "),a(),l(" ",t.documentNo," "),a(5),l(" ",t.issuedItemCount,""),a(),l(" Issued Items Weight : ",t.issuedItemWeight>999?(t.issuedItemWeight/1e3).toFixed(2)+" MT":t.issuedItemWeight===0?"0.00 Kg":t.issuedItemWeight.toFixed(2)+" Kg"," "),a(4),l(" ",t.issuedBy,""),a(),l(" Issued At : ",n.formatDate(t.createdAt)," ")}}function j(i,e){if(i&1&&b(0,_,17,6,"div",10,h),i&2){let t=c();v(t.issueItems)}}var U=(()=>{let e=class e{constructor(n,r){this.rmIssueService=n,this.rmService=r,this.issueItems=[]}getDocs(){return u(this,null,function*(){for(let n of this.issueItems){let r=yield this.rmService.getSingleRm(n.issuedDocumentId).toPromise();n.documentNo=r.documentNo,n.pgNonPg=r.pgNonPg}})}ngOnInit(){this.rmIssueService.getIssueItem().subscribe(n=>{this.issueItems=n,this.getDocs()})}formatDate(n){return new Date(n).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}};e.\u0275fac=function(r){return new(r||e)(m(k),m(w))},e.\u0275cmp=f({type:e,selectors:[["app-rms-issues"]],standalone:!0,features:[y],decls:4,vars:1,consts:[[1,"py-6","flex","justify-center"],[1,"p-4","sm:ml-52","mt-2","w-full"],["class","p-4 mt-4 border-2 border-gray-700 text-red-500 border-dashed rounded-lg dark:text-red-500 font-bold dark:border-gray-700 flex justify-center"],[1,"p-4","mt-4","border-2","border-gray-700","text-red-500","border-dashed","rounded-lg","dark:text-red-500","font-bold","dark:border-gray-700","flex","justify-center"],[1,"relative","flex","flex-col","mt-4","text-gray-700","bg-white","shadow-md","bg-clip-border","rounded-xl","w-full","border-2","border-gray-200","border-solid"],[1,"pt-2","pl-4"],[1,"block","mb-1","font-sans","text-xl","antialiased","font-semibold","leading-snug","tracking-normal","text-blue-gray-900"],[1,"circle","pg-non-pg"],[1,"pl-1","pb-1"],[1,"mr-4","font-normal"],["class","relative flex flex-col mt-4 text-gray-700 bg-white shadow-md bg-clip-border rounded-xl w-full border-2 border-gray-200 border-solid"]],template:function(r,D){r&1&&(d(0,"div",0)(1,"div",1),x(2,P,3,0,"div",2)(3,j,2,0),s()()),r&2&&(a(2),I(2,D.issueItems.length===0?2:3))},styles:[".circle[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;border-radius:50%;background-color:#d84141;color:#fff;text-align:center;line-height:30px;margin-right:10px}.pg-non-pg[_ngcontent-%COMP%]{font-size:14px}"]});let i=e;return i})();export{U as RmsIssuesComponent};
